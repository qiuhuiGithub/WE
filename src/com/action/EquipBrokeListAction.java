package com.action;
import java.util.List;
import com.dao.PageDAOBroke;
import javabean.Broke;
import com.opensymphony.xwork2.ActionSupport;
@SuppressWarnings("serial")
public class EquipBrokeListAction extends ActionSupport{
	private List<Broke> Broke;
	private int pageNumber=1;//当前页数
private int pageSize=5; //每页显示的记录数
private int totalPage;//总页数
private String msg; //提示信息
private int id;
public String getMsg() {
 return msg;
}
public void setMsg(String msg) {
 this.msg = msg;
}
public List<Broke> getBroke() {
 return Broke;
}
public void setBroke(List<Broke> Broke) {
this.Broke = Broke;
}
public int getPageNumber() {
 return pageNumber;
}
public void setPageNumber(int pageNumber) {
//处理页码范围
 if(pageNumber==0){
this.pageNumber =1;
this.setMsg("这已经是第一页！");
}
 else if(pageNumber>this.getTotalPage()){
this.pageNumber=this.getTotalPage();
this.setMsg("这已经是最后一页！");
 }else {
 this.pageNumber=pageNumber;}
 }
public int getPageSize() {
 return pageSize;
}
public void setPageSize(int pageSize) {
 this.pageSize = pageSize;
}
public int getId(){
	return id;
}
public void setId(int id){
	this.id=id;
}
public int getTotalPage() {
//计算最后一页和总页数
 if(pd.getBrokeAmount()%pageSize==0){
this.setTotalPage(pd.getBrokeAmount()/pageSize);
 }else{
this.setTotalPage(pd.getBrokeAmount()/pageSize+1);
}
 return totalPage;
}
public void setTotalPage(int totalPage) {
 this.totalPage = totalPage;
}
PageDAOBroke pd=new PageDAOBroke();
public String execute(){
 Broke=pd.Broke(pageSize,pageNumber);
 if(id==1){
	 return "success1";
 }
 else{
 return SUCCESS;}
}
}